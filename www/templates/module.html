<ion-view view-title="Modules" ng-controller="ModuleCtrl as moduleCtrl">
  <ion-content class="content-body">
    <div class="list card" ng-if="moduleCtrl.modules" ng-repeat="module in moduleCtrl.modules">
      <div class="item item-button-right">
        <p>{{module.title}}</p>
        <div class="buttons" ng-if="moduleCtrl.project.user_id == moduleCtrl.userId" ng-click="moduleCtrl.showPopoverModule($event)" style="padding-left: 20px;"><span class="icon ion-more"></span></div>
      </div>
      <div class="item item-body">

        {{module.description}}
        <br><br>
        <div class="">
          <span>Start: {{module.start | date: 'MMMM dd, y'}}</span> <br>
          <span>End: {{module.end | date: 'MMMM dd, y'}}</span>
        </div>

        <div class="add-submodule">
          <button class="button button-small button-positive">Add Submodule</button>
        </div>

        <div class="list list-inset">
          List Of Submodules
        </div>
      </div>
      <div class="item tabs tabs-secondary tabs-icon-left">
        <a class="tab-item" ng-click="moduleCtrl.openModalSummaryModule(module)">
          <i class="icon ion-android-list" style="font-size: 12;"></i>
          Summary
        </a>
        <p>|</p>
        <a class="tab-item" ng-click="moduleCtrl.deleteModule(module.id)">
          <i class="icon ion-android-cancel"></i>
          Delete
        </a>
      </div>
    </div>
  </ion-content>
  <ion-floating-button
    ng-show="moduleCtrl.remainingPercentage" ng-if= "moduleCtrl.project.user_id == moduleCtrl.userId"
    ng-click="moduleCtrl.openModalCreateModule()" button-color="#fff" icon="ion-plus" icon-color="#11c1f3">
  </ion-floating-button>
</ion-view>

